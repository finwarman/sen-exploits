#! /usr/bin/env bash

if [ $# -eq 0 ]; then
    echo "Please provide a level [1-10]"
    exit 1
fi
if ! [[ "$1" =~ ^[0-9]+$ ]] ;
 then exec >&2; echo "Please provide a level [1-10]"; exit 1
fi

echo "Sync Level: $1";
echo "(fin-solutions/level$1)";

while true; do
    sleep 0.1
    fswatch -o "fin-solutions/level$1/" | rsync -av "fin-solutions/level$1/" sen:"~/fin-solutions/level$1/"
done
